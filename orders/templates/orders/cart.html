{% extends "orders/base.html" %}

{% block title %}
    Cart
{% endblock %}

{% block body %}
    <h1>Cart</h1>
    <table>
        {% for selection in cart.selections %}
            <tr>
                <!-- DEBUG: Debugging with Order ID (remove later) -->
                <td>{{ selection.pk }}.) </td>
                <td>{{ selection.quantity }}</td>
                <td>x {{ selection.size }}</td>
                <td>{{ selection.itemName }}</td>
                <td>{{ selection.itemCategory }}</td>
                <td>@${{ selection.price }} each</td>
                <td>= ${{ selection.subtotal }}</td>
                <td><a href="{% url 'removeFromCart' selection.pk %}">REMOVE</a></td>
            </tr>

            <!-- TODO: List toppings if item was a pizza -->
            {% if selection.itemCategory == 'Regular Pizza' or selection.itemCategory == 'Sicilian Pizza' %}
                {% for topping in cart.getToppings %}
                    <tr>
                        <!-- DEBUG: Remove data when remove id above -->
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>{{ topping }}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                {% endfor %}
            {% endif %}

            <!-- TODO: List extras if item was a sub -->
            <!-- {% if selection.itemCategory == 'Regular Pizza' or selection.itemCategory == 'Sicilian Pizza' %}

            {% endif %} -->
        {% endfor %}
    </table>

    <div># of items: {{ cart.getNumItems }}</div>

    <div>Total: ${{ cart.getTotalPrice }}</div>

    Click <a href="{% url 'index' %}">HERE</a> to return to the Menu.
{% endblock %}
